{"version":3,"sources":["index.js"],"names":["window","fetch","then","resp","json","token","data","document","querySelector","innerHTML","features","attributes","Confirmed","Deaths","today","Date","Last_Update","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","time","getHours","getMinutes","getSeconds","console","log","className"],"mappings":";;;AAAA,aACA,QAAA,gBAuBGA,OArBCC,MAAM,+DACLC,KAAK,SAACC,GAASA,OAAAA,EAAKC,SACpBF,KAAK,SAASG,GAEXJ,MADA,y5BAECC,KAAK,SAACC,GAASA,OAAAA,EAAKC,SACpBF,KAAK,SAASI,GACXC,SAASC,cAAc,kCAAkCC,UAAYH,EAAKI,SAAS,GAAGC,WAAWC,UACjGL,SAASC,cAAc,gCAAgCC,UAAYH,EAAKI,SAAS,GAAGC,WAAWE,OAC3FC,IAAAA,EAAQ,IAAIC,KAAKT,EAAKI,SAAS,GAAGC,WAAWK,aAC7CC,EAAKC,OAAOJ,EAAMK,WAAWC,SAAS,EAAG,KACzCC,EAAKH,OAAOJ,EAAMQ,WAAa,GAAGF,SAAS,EAAG,KAC9CG,EAAOT,EAAMU,cACbC,EAAOX,EAAMY,WAAa,IAAMZ,EAAMa,aAAe,IAAMb,EAAMc,aACrEd,EAAWO,GAAAA,OAAAA,EAAMJ,KAAAA,OAAAA,EAAMM,KAAAA,OAAAA,GACvBM,QAAQC,IAAIhB,GACZe,QAAQC,IAAIL,GACZlB,SAASC,cAAc,sBAAsBC,UAA4BK,gBAAAA,OAAAA,EAAWW,OAAAA,OAAAA,GACpFlB,SAASC,cAAc,mBAAmBuB,UAAY","file":"index.js","sourceRoot":"../src","sourcesContent":["'use strict';\nimport './index.scss';\n(function(){\n    fetch('https://us-central1-detroit-iet.cloudfunctions.net/getToken')\n    .then((resp) => resp.json()) // Transform the data into json\n    .then(function(token) {\n        let url = `https://services1.arcgis.com/0MSEUqKaxRlEPj5g/ArcGIS/rest/services/Coronavirus_2019_nCoV_Cases/FeatureServer/1/query?where=Country_Region+%3D%27US%27+AND+Province_State+%3D+%27Michigan%27&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=`;\n        fetch(url)\n        .then((resp) => resp.json()) // Transform the data into json\n        .then(function(data) {\n            document.querySelector('.data-block.detected.mich span').innerHTML = data.features[0].attributes.Confirmed;\n            document.querySelector('.data-block.deaths.mich span').innerHTML = data.features[0].attributes.Deaths;\n            let today = new Date(data.features[0].attributes.Last_Update);\n            let dd = String(today.getDate()).padStart(2, '0');\n            let mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n            let yyyy = today.getFullYear();\n            let time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n            today = `${mm}/${dd}/${yyyy}`;\n            console.log(today);\n            console.log(time);\n            document.querySelector('.update-date .mich').innerHTML = `Last updated ${today} - ${time}`;\n            document.querySelector('#loader-overlay').className = '';\n        });\n    });    \n})(window);"]}